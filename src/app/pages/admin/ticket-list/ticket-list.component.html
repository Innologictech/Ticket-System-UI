<div class="mb-3 d-flex justify-content-between">
  <input
    type="text"
    class=" w-15"
    placeholder="Search..."
    [(ngModel)]="searchText"
  />
</div>

<div class="table-responsive tableFixHead">
  <table class="table table-bordered table-hover bg-white">
    <thead class="table-dark text-center">
      <tr>
        <th (click)="setSort('customerticketId')" style="cursor:pointer">
          Ticket Id
        </th>
        <th (click)="setSort('title')" style="cursor:pointer">Title</th>
        <th (click)="setSort('priority')" style="cursor:pointer">Priority</th>
        <th (click)="setSort('status')" style="cursor:pointer">Status</th>
        <th (click)="setSort('date')" style="cursor:pointer">Created Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="
          let ticket of sortedTickets
            | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage }
        "
        class="align-middle"
      >
        <td>{{ ticket.customerticketId }}</td>
        <td>{{ ticket.title }}</td>
        <td>
          <span [ngClass]="{
              'badge bg-danger': ticket.priority === 'High',
              'badge bg-warning text-dark': ticket.priority === 'Medium',
              'badge bg-success': ticket.priority === 'Low'
            }">
            {{ ticket.priority }}
          </span>
        </td>
        <td>
          <span [ngClass]="{
              'badge bg-success': ticket.status === 'Closed',
              'badge bg-info text-dark': ticket.status === 'Open',
              'badge bg-secondary': ticket.status !== 'Open' && ticket.status !== 'Closed'
            }">
            {{ ticket.status }}
          </span>
        </td>
        <td>{{ ticket.date | date: 'dd-MM-yyyy' }}</td>
        <td class="text-center">
          <i
            class="fa fa-eye text-info me-2"
            (click)="viewTicket()"
          ></i>
          <i
            class="fa fa-edit text-warning me-2"
            (click)="editTicketModel(ticket, createBugTicketTemplate)"
          ></i>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Pagination -->
<div class="d-flex justify-content-end mt-3">
  <pagination-controls
    (pageChange)="currentPage = $event"
    class="pagination justify-content-end"
  ></pagination-controls>
</div>
